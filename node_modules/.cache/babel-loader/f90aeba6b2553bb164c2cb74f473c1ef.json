{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/narendraomprakash/Desktop/Narendra/Semester-V-FALL2021/PDC/J-Component/Integrated-CryptRidez/src/Pages/Metamask.js\";\nimport React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { Alert } from \"react-bootstrap\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { useHistory } from \"react-router-dom\";\nimport Tittle from '../Components/Tittle';\nimport './Login.css';\n\nclass Metamask extends Component {\n  constructor() {\n    super();\n    this.state = {};\n    this.signatureForm = this.signatureForm.bind(this);\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      const web3 = window.web3;\n      var message = \"Some string\";\n      var hash = web3.utils.sha3(message); // console.log(hash)\n\n      const accounts = await web3.eth.getAccounts();\n      await web3.eth.personal.sign(hash, accounts[0]);\n      history.push(\"/dashboard\");\n    } catch {\n      setError(\"Failed to verify!\");\n    }\n\n    setLoading(false);\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      // <>\n      _jsxDEV(\"div\", {\n        className: \"LoginPage\",\n        children: [/*#__PURE__*/_jsxDEV(Tittle, {\n          title: 'MetaMask Verification',\n          span: 'MetaMask'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-primary text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-user-circle\",\n                  style: {\n                    fontSize: \"110px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 58\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"body-form\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                onClick: handleSubmit,\n                children: \"VERIFY!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    );\n  }\n\n}\n\nexport default Metamask;","map":{"version":3,"sources":["/Users/narendraomprakash/Desktop/Narendra/Semester-V-FALL2021/PDC/J-Component/Integrated-CryptRidez/src/Pages/Metamask.js"],"names":["React","Component","Web3","Alert","useAuth","useHistory","Tittle","Metamask","constructor","state","signatureForm","bind","handleSubmit","e","preventDefault","setError","setLoading","web3","window","message","hash","utils","sha3","accounts","eth","getAccounts","personal","sign","history","push","render","fontSize"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAAUC,KAAV,QAAuB,iBAAvB;AACA,SAAQC,OAAR,QAAuB,yBAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAO,aAAP;;AAEA,MAAMC,QAAN,SAAuBN,SAAvB,CAAiC;AAC7BO,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa,EAAb;AAEA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACD;;AACD,QAAMC,YAAN,CAAmBC,CAAnB,EAAsB;AAClBA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAI;AACFC,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACAC,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMC,IAAI,GAAGC,MAAM,CAACD,IAApB;AACE,UAAIE,OAAO,GAAG,aAAd;AACA,UAAIC,IAAI,GAAGH,IAAI,CAACI,KAAL,CAAWC,IAAX,CAAgBH,OAAhB,CAAX,CALA,CAMJ;;AACI,YAAMI,QAAQ,GAAG,MAAMN,IAAI,CAACO,GAAL,CAASC,WAAT,EAAvB;AACA,YAAMR,IAAI,CAACO,GAAL,CAASE,QAAT,CAAkBC,IAAlB,CAAuBP,IAAvB,EAA6BG,QAAQ,CAAC,CAAD,CAArC,CAAN;AACFK,MAAAA,OAAO,CAACC,IAAR,CAAa,YAAb;AACD,KAVD,CAUE,MAAM;AACNd,MAAAA,QAAQ,CAAC,mBAAD,CAAR;AACD;;AAEDC,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD;;AAIPc,EAAAA,MAAM,GAAG;AACL;AAAA;AACI;AACA;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACQ,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAE,uBAAf;AAAwC,UAAA,IAAI,EAAE;AAA9C;AAAA;AAAA;AAAA;AAAA,gBADR,eAEG;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,iCACC;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,sCACE;AAAI,gBAAA,SAAS,EAAC,0BAAd;AAAA,uCAAyC;AAAG,kBAAA,SAAS,EAAC,mBAAb;AAAiC,kBAAA,KAAK,EAAE;AAACC,oBAAAA,QAAQ,EAAC;AAAV;AAAxC;AAAA;AAAA;AAAA;AAAA;AAAzC;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,gBAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAME;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA,qCACE;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAsB,gBAAA,SAAS,EAAC,iBAAhC;AAAkD,gBAAA,OAAO,EAAEnB,YAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAFH;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAmBH;;AAjDgC;;AAmDjC,eAAeL,QAAf","sourcesContent":["import React,{ Component } from 'react';\nimport Web3 from 'web3';\nimport {  Alert } from \"react-bootstrap\"\nimport {useAuth}  from \"../contexts/AuthContext\"\nimport { useHistory } from \"react-router-dom\"\nimport Tittle from '../Components/Tittle';\nimport './Login.css';\n\nclass Metamask extends Component {\n    constructor() {\n      super();\n      this.state = {\n      };\n      this.signatureForm = this.signatureForm.bind(this);\n    }\n    async handleSubmit(e) {\n        e.preventDefault()\n    \n        try {\n          setError(\"\")\n          setLoading(true)\n          const web3 = window.web3\n            var message = \"Some string\"\n            var hash = web3.utils.sha3(message)\n        // console.log(hash)\n            const accounts = await web3.eth.getAccounts()\n            await web3.eth.personal.sign(hash, accounts[0])\n          history.push(\"/dashboard\")\n        } catch {\n          setError(\"Failed to verify!\")\n        }\n    \n        setLoading(false)\n      }\n    \n  \n  \nrender() {\n    return (\n        // <>\n        <div className=\"LoginPage\">\n                <Tittle title={'MetaMask Verification'} span={'MetaMask'} />\n           <div className=\"container\">\n            <div className=\"form-box\">\n              <div className=\"header-form\">\n                <h4 className=\"text-primary text-center\"><i className=\"fa fa-user-circle\" style={{fontSize:\"110px\"}}></i></h4>\n                <div className=\"image\">\n                </div>\n              </div>\n              <div className=\"body-form\">\n                <button type=\"submit\" className=\"btn btn-primary\" onClick={handleSubmit}>VERIFY!</button>\n           </div>\n           </div>\n           </div>\n        </div>\n          \n      )\n}\n}\nexport default Metamask;"]},"metadata":{},"sourceType":"module"}